<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Personel Takip</title>
  <link rel="icon" href="assets/icon.svg" type="image/svg+xml" />
  <link rel="stylesheet" href="assets/app.css" />
</head>
<body>
  <header class="topbar">
    <div class="brand">
      <div class="title">Personel Takip</div>
      <div class="subtitle">Beyaz tema â€¢ Siyah yazÄ± â€¢ Silme yok â€¢ CanlÄ± yok</div>
    </div>
    <div class="pill" id="pill">
      <span class="dot" id="pillDot"></span>
      <span id="pillText">HazÄ±r</span>
      <span class="clock" id="clock">--:--</span>
    </div>
  </header>

  <main class="grid">
    <!-- PERSONEL -->
    <section class="card" aria-label="Personel">
      <div class="split">
        <h2>ğŸ‘· Personel</h2>
        <div class="actions">
          <button id="btnRefreshPublic" class="btn">Yenile</button>
        </div>
      </div>

      <div class="row2">
        <input id="inpName" class="inp" placeholder="Ad Soyad (personel kendini ekler)" autocomplete="off" />
        <button id="btnAddSelf" class="btn btn-good">Kendimi Ekle</button>
      </div>

      <div class="hr"></div>

      <p class="hint">
        Listeden <b>kendi adÄ±nÄ±</b> seÃ§ â†’ Ã¶nce <b>Not</b> yaz (opsiyonel) â†’ sonra <b>GÄ°RÄ°Å</b> / <b>Ã‡IKIÅ</b>.
        Ä°zin aldÄ±ysan: Not yazÄ±p <b>butona basma</b> (iÅŸe gelmedi kaydÄ± oluÅŸur).
      </p>

      <div class="list" id="publicList"></div>

      <div class="hr"></div>

      <div class="card inner">
        <div class="split">
          <b>SeÃ§ilen Personel</b>
          <span class="badge" id="meBadge">SeÃ§ilmedi</span>
        </div>

        <!-- NOT: BUTONLARIN ÃœSTÃœ -->
        <label class="label" for="inpNote">Not (opsiyonel)</label>
        <textarea id="inpNote" class="inp area" placeholder="Ã–rn: BugÃ¼n izin aldÄ±m / Hastane / GeÃ§ geleceÄŸim"></textarea>

        <div class="btnrow">
          <button id="btnIzin" class="btn btn-warn" disabled>Ä°ZÄ°N KAYDI</button>
          <button id="btnGiris" class="btn btn-good" disabled>GÄ°RÄ°Å</button>
          <button id="btnCikis" class="btn btn-bad" disabled>Ã‡IKIÅ</button>
        </div>

        <div class="hint" id="meHint">Ã–nce listeden kendi adÄ±nÄ± seÃ§.</div>
      </div>
    </section>

    <!-- ADMIN -->
    <section class="card" aria-label="Admin">
      <div class="split">
        <h2>ğŸ‘‘ Admin</h2>
        <div class="actions">
          <button id="btnAdminRefresh" class="btn" disabled>Yenile</button>
        </div>
      </div>

      <div id="adminGate">
        <p class="hint">
          Admin giriÅŸi cihazda <b>tek sefer</b> yapÄ±lÄ±r, sonra kayÄ±tlÄ± kalÄ±r. Ã‡Ä±kÄ±ÅŸ yok.
        </p>

        <div class="row2">
          <input id="admUser" class="inp" placeholder="KullanÄ±cÄ± adÄ± (Ã¶r: admin)" autocomplete="off" />
          <input id="admMail" class="inp" placeholder="Mail" autocomplete="off" />
        </div>

        <input id="admPass" class="inp" placeholder="Admin Token" type="password" autocomplete="off" />
        <button id="btnAdminLogin" class="btn btn-warn">Admin GiriÅŸ</button>
      </div>

      <div id="adminPanel" class="adminPanel" style="display:none">
        <div class="row2">
          <input id="admSearch" class="inp" placeholder="Ara: personel adÄ± veya not iÃ§inde (Ã¶rn: izin)" autocomplete="off" />
          <select id="admRange" class="inp">
            <option value="0">BugÃ¼n</option>
            <option value="3" selected>Son 3 gÃ¼n</option>
            <option value="7">Son 7 gÃ¼n</option>
            <option value="30">Son 30 gÃ¼n</option>
            <option value="all">TÃ¼mÃ¼</option>
          </select>
        </div>

        <div class="hint">
          Personel satÄ±rÄ±na tÄ±kla â†’ detay aÃ§Ä±lÄ±r. Detayda her satÄ±rda âœï¸ <b>DÃœZELT</b> var.
        </div>

        <div class="list" id="adminList"></div>
      </div>
    </section>
  </main>

  <div class="toast" id="toast"></div>

  <!-- MODAL: Detay -->
  <div class="modalBg" id="detailBg" aria-hidden="true">
    <div class="modal">
      <div class="split">
        <h3 id="detailTitle">Detay</h3>
        <div class="actions">
          <button id="btnDetailClose" class="btn">Kapat</button>
        </div>
      </div>

      <div class="row2">
        <input id="detailSearch" class="inp" placeholder="Detay iÃ§inde ara (Ã¶rn: izin)" autocomplete="off" />
        <select id="detailRange" class="inp">
          <option value="0">BugÃ¼n</option>
          <option value="3" selected>Son 3 gÃ¼n</option>
          <option value="7">Son 7 gÃ¼n</option>
          <option value="30">Son 30 gÃ¼n</option>
          <option value="all">TÃ¼mÃ¼</option>
        </select>
      </div>

      <div class="list" id="detailList"></div>
      <div class="footnote">Silme yok âœ… â€¢ DÃ¼zeltme iÅŸaretlenir âœ… â€¢ CanlÄ± yok âœ…</div>
    </div>
  </div>

  <!-- MODAL: DÃ¼zelt -->
  <div class="modalBg" id="editBg" aria-hidden="true">
    <div class="modal">
      <div class="split">
        <h3>âœï¸ KayÄ±t DÃ¼zelt</h3>
        <div class="actions">
          <button id="btnEditCancel" class="btn">VazgeÃ§</button>
        </div>
      </div>

      <div class="meta" id="editInfo"></div>

      <label class="label">GiriÅŸ (YYYY-MM-DD HH:MM)</label>
      <input id="editGiris" class="inp" placeholder="2026-02-10 08:10" />

      <label class="label">Ã‡Ä±kÄ±ÅŸ (boÅŸ bÄ±rakÄ±labilir)</label>
      <input id="editCikis" class="inp" placeholder="2026-02-10 17:05" />

      <label class="label">Not (opsiyonel)</label>
      <textarea id="editNote" class="inp area" placeholder="DÃ¼zeltme notu"></textarea>

      <button id="btnEditSave" class="btn btn-warn">Kaydet</button>
      <div class="footnote">Silme yok âœ… â€¢ Her satÄ±rda DÃœZELT âœ…</div>
    </div>
  </div>

  <script>
    window.APP_CFG = {"SUPABASE_URL": "https://ngnpocqaznpuggsvwbif.supabase.co", "ANON_KEY": "sb_publishable_st-oRCixt2NLZnE1CFga6A_fCqdcGZn", "ADMIN_TOKEN": "2550d2afd71062bde89a04d5b2ad55ec502d35a1f9b8ff89"};
  </script>
  <script src="assets/app.js"></script>
</body>
</html>
